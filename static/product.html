<!DOCTYPE html>
<html>
<head>
    <title>JAMEEL | Product Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container py-5">
        <div id="product-detail" class="row">
            </div>
    </div>

    <script>
        async function loadDetail() {
            const params = new URLSearchParams(window.location.search);
            const id = params.get('id');
            const res = await fetch("/api/products");
            const products = await res.json();
            const p = products.find(item => item.id == id);

            if(p) {
                document.getElementById('product-detail').innerHTML = `
                    <div class="col-md-6"><img src="${p.image}" class="img-fluid rounded"></div>
                    <div class="col-md-6 py-5">
                        <h1 class="display-5">${p.title}</h1>
                        <h4 class="text-muted">${p.category}</h4>
                        <h2 class="text-success my-4">Rs. ${p.price.toLocaleString()}</h2>
                        <button class="btn btn-dark btn-lg w-100">Order on WhatsApp</button>
                    </div>
                `;
            }
        }
        loadDetail();
    </script>
</body>
</html>